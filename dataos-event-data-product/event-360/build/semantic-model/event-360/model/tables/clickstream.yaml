tables:
  - name: clickstream
    sql: {{ load_sql('clickstream') }}
    description: Comprehensive clickstream data for business analytics, reporting, and operational insights
    data_source: icebase
    public: true

    dimensions:

      - name: event_date
        description: "Timestamp when the user event occurred, enabling time-based analysis and trend reporting"
        type: time
        sql: event_date

      - name: user_id
        description: "Unique identifier for the user performing the action, used for user journey analysis and personalization"
        type: string
        sql: user_id

      - name: session_id
        description: "Unique session identifier for grouping user activities within a single visit or interaction period"
        type: string
        sql: session_id
        primary_key: true
        public: true

      - name: app_name
        description: "Application or platform name where the event originated, enabling cross-platform analysis"
        type: string
        sql: app_name

      - name: session_duration_seconds
        description: "Duration of user session in seconds, calculated from first to last event timestamp for engagement analysis"
        type: number
        sql: session_duration_seconds

      - name: apps_used
        description: "Total apps used by per user"
        type: string
        sql: apps_used



    measures:


      - name: total_user
        sql: user_id
        type: count_distinct
        description: "Total count of user records for business metrics and KPI calculations"

      - name: total_hour
        sql: sum({TABLE.session_duration_seconds} / 60/ 60 )
        type: number
        description: "Total hours of user session for engagement analysis"

      - name: total_sessions
        sql: session_id
        type: count_distinct
        description: "Total count of unique user sessions for engagement metrics and session analysis"    